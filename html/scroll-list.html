<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body style="width: 100%; height: 100%; overflow: hidden">

<ul id="list" style="width: 100%; height: 100%;"></ul>

<script type="text/javascript" src="../scripts/Utility/standard-function.js"></script>
<script type="text/javascript" src="../scripts/Widgets/scroll-list.js"></script>

<script type="text/javascript">
    var listElement = document.querySelector('#list');
    var list = new Widgets.ScrollList(listElement, 3);

    list.elementReachedBorder = function(e){e['style'].backgroundColor = 'red';};
    listElement.elementExited = function(e){e['style'].display = 'none';};

    function createElement(id) {
        var element = document.createElement('li');
        element.id = id;
        element.style.position = 'absolute';
        element.innerHTML = id;
        return element;
    }

    for (var i = 0; i < 5; i++) {
        list.addElement(createElement(i));
    }

    var position = 0;
    var fixedPosition = 0;

    function onKeyDown(e) {
        if (e.keyCode == 65 || e.keyCode == 68) {
            if (e.keyCode == 65) position -= .1;
            else position += .1;
            list.setPosition(position);
        }

        if (e.keyCode == 87 || e.keyCode == 83) {
            var delta;
            if (e.keyCode == 87) delta = -1;
            else delta = 1;
            fixedPosition += delta;
            position = Math.floor(fixedPosition);

            list.moveToPosition(Math.round(fixedPosition), 3000,
                    function () {console.log('moveTo completed');});
        }
    }

    window.addEventListener('keydown', onKeyDown);

</script>
</body>
</html>